--- python-psycopg.spec	2024-03-29 20:48:18.212787275 +0100
+++ python-psycopg.spec	2024-03-29 20:47:25.949502466 +0100
@@ -1,3 +1,5 @@
+%global debug_package %{nil}
+
 Name:           python-psycopg
 Version:        3.1.9
 Release:        %autorelease
@@ -8,9 +10,10 @@
 License:        gpl
 URL:            https://psycopg.org/
 Source:         %{pypi_source psycopg}
+Patch:		psycopg-deps.patch
 
-BuildArch:      noarch
-BuildRequires:  python3-devel
+BuildArch:      x86_64
+BuildRequires:  python3-devel libpq-devel gcc
 
 
 # Fill in the actual package description to submit package to Fedora
@@ -22,11 +25,11 @@
 %package -n     python3-psycopg
 Summary:        %{summary}
 
+
 %description -n python3-psycopg %_description
 
 # For official Fedora packages, review which extras should be actually packaged
 # See: https://docs.fedoraproject.org/en-US/packaging-guidelines/Python/#Extras
-%pyproject_extras_subpkg -n python3-psycopg binary,c,dev,docs,pool,test
 
 
 %prep
